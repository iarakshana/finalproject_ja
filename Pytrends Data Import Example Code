from pytrends.request import TrendReq
import pandas as pd
import numpy as np
# Login to Google. Only need to run this once, the rest of requests will use the same session.
pytrend = TrendReq()
    
#ARKANSAS 2014
pytrend.build_payload(kw_list=["Tom Cotton", "Mark Pryor"], geo = 'US',  timeframe = '2014-01-01 2014-12-31')

# Interest Over Time
interest_over_time_ar = pytrend.interest_over_time()
#print(interest_over_time_ar)
interest_over_time_ar = interest_over_time_ar.drop(interest_over_time_ar.index[44:])
print(sum(interest_over_time_ar["Tom Cotton"]))
print(sum(interest_over_time_ar["Mark Pryor"]))
TCp = (sum(interest_over_time_ar["Tom Cotton"]))/ ((sum(interest_over_time_ar["Tom Cotton"])) + (sum(interest_over_time_ar["Mark Pryor"])))
print(TCp)
MPp = 1-TCp
print(MPp)

Winnerp = TCp
Loserp = 1-TCp
gtrends = pd.Series([TCp, MPp])
gtrends.append(alaska, ignore_index = True)

#ALASKA
pytrend.build_payload(kw_list=['Dan Sullivan', 'Mark Begich'], geo = 'US',  timeframe = '2014-01-01 2014-12-31')
# Interest Over Time
interest_over_time_ak = pytrend.interest_over_time()
DSp = (sum(interest_over_time_ak["Dan Sullivan"]))/ ((sum(interest_over_time_ak["Dan Sullivan"])) + (sum(interest_over_time_ak["Mark Begich"])))
MBp = 1- DSp
alaska = pd.Series([DSp, MBp])

interest_over_time_ar.join(interest_over_time_ak, lsuffix = 'date' , rsuffix = 'date')
